!function(){function t(t){t.otherwise({redirectTo:"/"})}function e(t,e){t.$on("$routeChangeStart",function(t,n){var c=e.path();console.log(c)})}t.$inject=["$routeProvider"],e.$inject=["$rootScope","$location"],angular.module("intranet",["ngRoute","home","directory","birthday","notice","help","content","shared-services","staff","blog","vacancy"]).config(t).run(e)}(),function(){function t(t){t.when("/birthdays",{controller:"Birthday",templateUrl:"src/app/modules/birthday/birthday.html"})}t.$inject=["$routeProvider"],angular.module("birthday",[]).config(t)}(),function(){"use strict";function t(t){t.when("/content/:id",{controller:"Content",templateUrl:"public/app/modules/content/content.html"})}t.$inject=["$routeProvider"],angular.module("content",[]).config(t)}(),function(){function t(t){t.when("/blogs",{controller:"Blog",templateUrl:"public/app/modules/blog/blog-list.html"}).when("/blogs/:id",{controller:"Blog",templateUrl:"public/app/modules/blog/blog-detail.html"})}t.$inject=["$routeProvider"],angular.module("blog",[]).config(t)}(),function(){"use strict";function t(t){return function(e){return t.trustAsHtml(e)}}function e(){return function(t){var e=/&(nbsp|amp|quot|lt|gt);/g,n={nbsp:" ",amp:"&",quot:'"',lt:"<",gt:">"};return t.replace(e,function(t,e){return n[e]})}}t.$inject=["$sce"],angular.module("intranet").filter("sanitize",t).filter("removeEntities",e).filter("timestamp",function(){return function(t){var e=new Date(t).toISOString();return e}})}(),function(){function t(t){t.when("/help-desk",{templateUrl:"public/app/modules/help-desk/help.html",controller:"HelpDesk",controllerAs:"vm"})}t.$inject=["$routeProvider"],angular.module("help",[]).config(t)}(),function(){function t(t){t.when("/",{controller:"Home",templateUrl:"public/app/modules/home/home.html"}).when("/polices",{controller:"Home",templateUrl:"public/app/modules/home/home.html"})}t.$inject=["$routeProvider"],angular.module("navigation",[]).config(t)}(),function(){function t(t){t.when("/",{controller:"Home",controllerAs:"vm",templateUrl:"public/app/modules/home/home.html"}).when("/news-feed",{controller:"Home",controllerAs:"vm",templateUrl:"public/app/modules/home/news-feed.html"})}t.$inject=["$routeProvider"],angular.module("home",[]).config(t)}(),function(){function t(t){t.when("/notices/:id",{controller:"Notice",templateUrl:"public/app/modules/notice/notice.html"}).when("/notices",{controller:"Notice",templateUrl:"public/app/modules/notice/notice-list.html"})}t.$inject=["$routeProvider"],angular.module("notice",[]).config(t)}(),function(){function t(t){t.when("/staff-focus",{controller:"Staff",templateUrl:"public/app/modules/staff/staff.html"})}t.$inject=["$routeProvider"],angular.module("staff",[]).config(t)}(),function(){function t(t){t.when("/vacancies",{controller:"Vacancy",controllerAs:"vm",templateUrl:"public/app/modules/vacancy/vacancy-list.html"}).when("/vacancies/:slug",{controller:"Vacancy",controllerAs:"vm",templateUrl:"public/app/modules/vacancy/vacancy.html"})}t.$inject=["$routeProvider"],angular.module("vacancy",[]).config(t)}(),function(){function t(t){t.when("/directory",{controller:"Directory",controllerAs:"vm",templateUrl:"public/app/modules/directory/directory.html"})}t.$inject=["$routeProvider"],angular.module("directory",[]).config(t)}(),function(){function t(t,e){t.date=Date.now(),e.get("/api/employees/birthday").then(function(e){t.birthdays=e.data})}t.$inject=["$scope","$http"],angular.module("birthday").controller("Birthday",t),t.$inejct=["$scope","$http"]}(),function(){function t(t,e){t.notices=e.getNotices()}angular.module("content").controller("Content",t),t.$inject=["$scope","sharedServices"]}(),function(){function t(t,e,n,c){t.notices=n.getNotices(),c.getBlogById(e.id).then(function(e){console.log(e),t.blog=e})}angular.module("blog").controller("Blog",t),t.$inject=["$scope","$routeParams","sharedServices","blogService"]}(),function(){function t(t,e,n){function c(){n.getTickets({fname:"Courtney",lname:"Laidlaw"}).then(function(t){s.tickets=t})["catch"](function(t){s.tickets=[]})}function o(t){t&&(s.issue.category=s.selected.id,s.issue={},s.message=!0,c())}function r(){s.message=!1}function i(t){switch(t){case"open-tickets":c(),s.open_tickets=!0,s.create_ticket=!1,s.closed_tickets=!1;break;case"create-ticket":a(),s.create_ticket=!0,s.open_tickets=!1,s.closed_tickets=!1;break;case"closed-tickets":s.open_tickets=!1,s.create_ticket=!1,s.closed_tickets=!0}}function a(){n.getCategories().then(function(t){s.selected=t[0],s.categories=t})["catch"](function(t){s.categories=[]})}function u(){n.getClosedTickets({fname:"Courtney",lname:"Laidlaw"}).then(function(t){s.tickets_closed=t})["catch"](function(t){s.tickets_closed=[]})}var s=this;s.open_tickets=!0,s.closed_tickets=!1,s.create_ticket=!1,s.message=!1,s.dismiss=r,s.toggle=i,s.handleForm=o,s.issue={},c(),u()}angular.module("help").controller("HelpDesk",t),t.$inject=["$scope","$http","helpDeskService"]}(),function(){"use strict";function t(t,e,n,c,o,r){function i(t){e.path("#/"+t)}function a(){o.getPostsByCategory("staff-notice").then(function(t){m.notices=t.splice(0,5)})["catch"](function(t){m.notices=[]})}function u(){r.goTo("blogs")}function s(){r.goTo("staff-focus")}function l(){o.getPostsByCategory("vacancies").then(function(t){m.vacancies=t.splice(0,5)})["catch"](function(t){m.vacancies=[]})}function f(){o.getPostsByCategory("front-page").then(function(t){m.lead=t.splice(0,1)})["catch"](function(t){m.lead={}})}function g(){o.getPostsByCategory("did-you-know").then(function(t){m.advices=t.splice(0,3)})["catch"](function(t){m.advices=[]})}function p(){o.getRSSFeed().then(function(t){m.news=t.splice(0,3)})["catch"](function(t){m.news=[]})}function s(){o.getPostsByCategory("staff-focus").then(function(t){m.staff=t.splice(0,5)})["catch"](function(t){m.staff=[]})}function h(){o.getPostsByCategory("blog").then(function(t){m.blogs=t.splice(0,5)})["catch"](function(t){m.blogs=[]})}var m=this;l(),f(),g(),p(),a(),s(),h(),m.goTo=i,m.getNotices=a,m.getBlogs=u,m.getStaffFocus=s}angular.module("home").controller("Home",t),t.$inject=["$http","$location","$window","$routeParams","homeService","sharedServices"]}(),function(){function t(t,e){t.notices=e.getNotices(),t.getNotices=function(){e.goTo("notices")}}angular.module("notice").controller("Notice",t),t.$inject=["$scope","sharedServices"]}(),function(){"use strict";function t(t,e){t.notices=e.getNotices()}angular.module("staff").controller("Staff",t),t.$inject=["$scope","sharedServices"]}(),function(){function t(t,e){var n=this;e.getVacancyBySlug(t.slug).then(function(t){n.vacancy=t}),e.getVacancies().then(function(t){n.vacancies=t})}angular.module("vacancy").controller("Vacancy",t),t.$inject=["$routeParams","sharedServices"]}(),function(){"use strict";function t(t,e,n){function c(){o(5)}function o(t){n.getEmployeesByDepartment(t).then(function(t){i.employees=t})["catch"](function(t){i.employees=[]})}function r(){i.query&&i.query.length>2?n.search(i.query).then(function(t){i.employees=t})["catch"](function(t){i.employees=o(5)}):i.employees=o(5)}var i=this;i.search=r,i.getEmployees=o,c(),n.getDepartments().then(function(t){i.departments=t})}angular.module("directory").controller("Directory",t),t.$inject=["$http","$routeParams","directoryService"]}(),function(){function t(t){function e(e){function n(t){return t.data}function c(t){}var o="/api/v1/content";return t.get(o).then(n)["catch"](c)}var n={getContentById:e};return n}angular.module("content").factory("contentService",t),t.$inject=["$http"]}(),function(){function t(t){function e(e){function n(t){return t.data}function c(t){}var o="/api/v1/blogs/"+e;return t.get(o).then(n)["catch"](c)}var n={getBlogById:e};return n}angular.module("blog").factory("blogService",t),t.$inject=["$http"]}(),function(){function t(t){function e(e){function n(t){return t.data}function c(t){return t}return t.post("/api/v1/tickets",e).then(n)["catch"](c)}function n(e){function n(t){return t.data}function c(t){return t}return t.get("/api/v1/tickets/"+e.fname+"/"+e.lname).then(n)["catch"](c)}function c(e){function n(t){return t.data}function c(t){return t}return t.get("/api/v1/tickets/"+e.fname+"/"+e.lname+"/closed").then(n)["catch"](c)}function o(){function e(t){return t.data}function n(t){return t}return t.get("/api/v1/admin/tickets/types").then(e)["catch"](n)}var r={createTicket:e,getTickets:n,getClosedTickets:c,getCategories:o};return r}angular.module("help").factory("helpDeskService",t),t.$inject=["$http"]}(),function(){function t(t){function e(){function e(t){return t.data.posts}function n(t){return t}return t.get(i+"/get_category_posts?slug=vacancies").then(e)["catch"](n)}function n(e){function n(t){return t.data.post}function c(t){return t}return t.get(i+"/get_post/?slug="+e).then(n)["catch"](c)}function c(e){function n(t){return t.data.posts}function c(t){return t}return t.get(i+"/get_category_posts?slug="+e).then(n)["catch"](c)}function o(){function e(t){return t.data.items}function n(t){return t}return t.get("http://rss2json.com/api.json?rss_url=http://jamaica-gleaner.com/feed/rss.xml").then(e)["catch"](n)}var r="/intranet",i=r+"/wordpress/api",a={getVacancies:e,getVacancyBySlug:n,getPostsByCategory:c,getRSSFeed:o};return a}angular.module("home").factory("homeService",t),t.$inject=["$http"]}(),function(){"use strict";function t(t){function e(){var e="http://rss2json.com/api.json?rss_url=",n="http://www.jamaicaobserver.com/rss/news/",c=e+encodeURI(n);t.get(c).then(function(t){console.log(t.data.items.slice(0,3)),$scope.news=t.data.items.slice(0,3)})}var n={getRss:e};return n}t.$inject=["$http"],angular.module("intranet").factory("rssService",t),t.inject=["$http"]}(),function(){"use strict";function t(t,e){function n(t){e.path("#/"+t)}function c(){function e(t){return t.data.posts}function n(t){return t}return t.get(r+"/get_category_posts?slug=vacancies").then(e)["catch"](n)}function o(e){function n(t){return t.data.post}function c(t){return error}return t.get(r+"/get_post/?slug="+e).then(n)["catch"](c)}var r="/wordpress/api/",i={goTo:n,getVacancies:c,getVacancyBySlug:o};return i}angular.module("shared-services",[]).factory("sharedServices",t),t.$inject=["$http","$location"]}(),function(){"use strict";function t(t){function e(){function e(t){return t.data}function n(t){return t}var c="/api/v1/departments";return t.get(c).then(e)["catch"](n)}function n(e){function n(t){return t.data}function c(t){return t}var o="/api/v1/departments/"+e+"/employees";return t.get(o).then(n)["catch"](c)}function c(e){function n(t){return t.data}function c(t){return t}var o="/api/v1/employees/search?q="+e;return t.get(o).then(n)["catch"](c)}var o={getDepartments:e,getEmployeesByDepartment:n,search:c};return o}angular.module("directory").factory("directoryService",t),t.$inject=["$http"]}();