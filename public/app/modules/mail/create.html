<div ng-include="'public/app/partials/sub-menu.html'"></div>
<hr class="custom-hr"/>

<div ng-class="{'alert alert-success alert-dismissible': success, 'alert alert-danger alert-dismissible' : error}"
     role="alert" data-ng-if="message">
  <strong>{{text}}</strong>
</div>
<!-- <ul class="nav nav-pills">
  <li role="presentation" class="pull-right"><a href> <i class="fa fa-floppy-o" aria-hidden="true"></i> Save</a></li>
  <li role="presentation" class="pull-right"><a href> <i class="fa fa-window-close-o" aria-hidden="true"></i> Cancel</a></li>
</ul> -->
<div class="row help-desk">
  <div class="col-md-9">

      <form name="mailForm" novalidate ng-submit="createMail()" >
        <div class="form-group">
          <label>Type of correspondence</label>
          <br>
          <label class="radio-inline">
              <input type="radio" value="letter" ng-model="mail.mail_type" ng-click="toggle(mail.mail_type)"> Letter
          </label>
          <label class="radio-inline">
            <input type="radio" value="memo" ng-model="mail.mail_type" ng-click="toggle(mail.mail_type)"> Memo
          </label>

          <label class="radio-inline">
            <input type="radio" value="invitation" ng-model="mail.mail_type" ng-click="toggle(mail.mail_type)"> Invitation
          </label>

          <label class="radio-inline">
            <input type="radio" value="travel" ng-model="mail.mail_type" ng-click="toggle(mail.mail_type)"> Overseas Travel
          </label>

          <label class="radio-inline">
            <input type="radio" value="cabinet_sub" ng-model="mail.mail_type" ng-click="toggle(mail.mail_type)"> Cabinet Sub
          </label>

          <label class="radio-inline">
            <input type="radio" value="file" ng-model="mail.mail_type" ng-click="toggle(mail.mail_type)"> File
          </label>

          <label class="radio-inline">
            <input type="radio" value="email" ng-model="mail.mail_type" ng-click="toggle(mail.mail_type)"> Email
          </label>

          <label class="radio-inline">
            <input type="radio" value="other" ng-model="mail.mail_type" ng-click="toggle(mail.mail_type)"> Other
          </label>
      </div>

      <div class="form-group" ng-show="showFile">
        <label>Title of File</label>
          <input class="form-control" type="text" ng-model="mail.file_title">
      </div>

      <div class="form-group" ng-show="showOther">
        <label>Other</label>
          <input class="form-control" type="text" ng-model="mail.other_type">
      </div>

      <div class="form-group">
        <label>Receipt Date</label>
        <div class="input-group">
           <span class="input-group-addon" ><i class="fa fa-calendar" aria-hidden="true"></i></span>
          <input class="form-control" type="date" ng-model="mail.receipt_date">
        </div>
      </div>

      <div class="form-group">
        <label>Corespondence Date</label>
        <div class="input-group">
           <span class="input-group-addon" ><i class="fa fa-calendar" aria-hidden="true"></i></span>
          <input class="form-control" type="date" ng-model="mail.mail_date">
        </div>
      </div>


      <div class="form-group">
        <label>From (Organization)</label>
        <div class="input-group">
           <span class="input-group-addon" ><i class="fa fa-building-o" aria-hidden="true"></i></span>
          <input class="form-control"
                 type="text"
                 ng-model="mail.from_org">
        </div>
      </div>

      <div class="form-group" ng-class="{ 'has-error': mailForm.sender.$touched &&
                   mailForm.sender.$invalid }">
        <label>Sender's Name</label>
          <input class="form-control"
                 name="sender"
                 type="text"
                 ng-model="mail.sender"
                 ng-minlength="3"
                 required>

           <div class="help-block"
                ng-messages="mailForm.sender.$error"
                ng-if="mailForm.sender.$touched">

               <p ng-message="minlength">The sender's name is too short.</p>
               <p ng-message="required">The sender's name is required.</p>
         </div>
      </div>



      <div class="form-group"
           ng-class="{ 'has-error': mailForm.receipent.$touched &&
                        mailForm.receipent.$invalid }">
        <label>Recipient's Name</label>
          <input class="form-control"
                 name="receipent"
                 type="text"
                 ng-model="mail.receipent"
                 ng-minlength="3"
                 required>

        <div class="help-block"
             ng-messages="mailForm.receipent.$error"
             ng-if="mailForm.receipent.$touched">

            <p ng-message="minlength">The receipent's name is too short.</p>
            <p ng-message="required">The receipent's name is required.</p>
      </div>
    </div>


      <div class="form-group">
        <label>Subject of Correspondence</label>
        <textarea class="form-control" ng-model="mail.subject"></textarea>
      </div>


        <div class="form-group">
          <label>Flag for follow up</label>
          <label class="radio-inline">
              <input type="radio" value="2" ng-model="mail.follow_up"> Yes
          </label>
          <label class="radio-inline">
            <input type="radio" value="1" ng-model="mail.follow_up"> No
          </label>
        </div>

      <hr>
      <div class="form-group">
        <a class="btn btn-default" ng-click="clearForm()">Cancel</a>
        <button class="btn btn-success" type="submit">Save</button>
      </div>
      </form>
  </div>
  <div class="col-md-2">

  </div>
</div>
